selection = {{hasSelection}}

@if (hasData) {
<div class="table-container" style="display: flex; flex-direction: column;">

    <table mat-table [dataSource]="dataSource" matSort>
        @for (col of columns; track col.id; let i = $index) {
        <ng-container [matColumnDef]="col.id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                {{col.name}}
            </th>
            @if (col.id === 'action') {
                <td mat-cell *matCellDef="let element">
                    <mat-checkbox (click)="$event.stopPropagation()"
                    (change)="$event ? toggleSelection(element) : null"
                    [checked]="selection.isSelected(element)">
                    </mat-checkbox>
                </td>
                <!-- <td mat-cell *matCellDef="let element">
                    <button mat-icon-button [matMenuTriggerFor]="menu">
                        <mat-icon class="material-symbols-outlined fg-primary-light">more_vert</mat-icon>
                    </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-button [routerLink]="['./edit', element.id]" class="app-border-none app-cursor-pointer button-hover">
                            <div class="flex-item flex-row flex-align-row-items">
                                <mat-icon class="material-symbols-outlined fg-primary-light app-mr-1">
                                    edit
                                </mat-icon>
                                <span>
                                    Edit the equipment information
                                </span>
                            </div>
                        </button>
                        <button mat-menu-button (click)="delete(element.id)" class="app-border-none app-cursor-pointer button-hover">
                            <div class="flex-item flex-row flex-align-row-items">
                                <mat-icon class="material-symbols-outlined fg-error-dark app-mr-1">
                                    delete
                                </mat-icon>
                                Delete the equipment
                            </div>
                        </button>
                        <button mat-menu-button (click)="view(element.id)" class="app-border-none app-cursor-pointer button-hover">
                            <div class="flex-item flex-row flex-align-row-items">
                                <mat-icon class="material-symbols-outlined fg-primary-light app-mr-1">
                                    map
                                </mat-icon>
                                Show the equipment on the map
                            </div>
                        </button>
                    </mat-menu>
                </td> -->
            }
            @else {
                <td mat-cell *matCellDef="let element" [class.select-col]="col.id === 'selection'">
                    {{col.getValue(element)}}
                </td>
            }
        </ng-container>
        }

        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="table-row"></tr>

        <!-- No data row -->
        <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                No data available
            </td>
        </tr>
    </table>


    <!-- <mat-paginator
        [pageSizeOptions]="pageSizes"
        [pageSize]="pageSize"
        [length]="totalItems"
        showFirstLastButtons>
    </mat-paginator> -->
</div>
}
@else {
    <div>
        Equipment Not Available
    </div>
}
