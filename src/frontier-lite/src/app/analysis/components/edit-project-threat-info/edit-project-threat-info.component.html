<h2 class="text-center">
    Edit Threat
</h2>

<div class="content-container space-left-right">
    @if(form) {
    <form [formGroup]="form" class="flex-column space-around">
        <mat-form-field>
            <mat-label>Type of Threat</mat-label>
            <mat-select formControlName="threatType">
                @for (item of threatTypes; track item) {
                <mat-option [value]="item.id">
                    <mat-icon class="material-symbols-outlined fg-secondary">
                        {{getIcon(item.id)}}
                    </mat-icon>
                    {{item.name}}
                </mat-option>
                }
            </mat-select>
        </mat-form-field>

        <mat-form-field class="flex-item bottom-space" subscriptSizing="dynamic">
            <mat-label>Name</mat-label>
            <input matInput
                type="text"
                formControlName="name"
                >
        </mat-form-field>

        <mat-form-field class="flex-item bottom-space" subscriptSizing="dynamic">
            <mat-label>Description</mat-label>
            <textarea matInput
            rows="3"
            formControlName="description">
            </textarea>
        </mat-form-field>
    </form>
    }

    <div class="flex-row space-above flex-center-row-items flex-center-gap">
        <button mat-button (click)="create()" [disabled]="form?.valid ? false : true">
            <mat-icon class="material-symbols-outlined">
                check_circle
            </mat-icon>
            Ok
        </button>
        <button mat-button (click)="cancel()">
            Cancel
        </button>
    </div>
</div>
